<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>    
    <title>东篱</title>
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
    <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
    <link rel='stylesheet' href='/styles/screen.css' type='text/css' />
    <link rel='stylesheet' href='/styles/prettify.css' type='text/css' />
  </head>
  <body>
    <div id="page">      
      <div id="header">
        <ul>
          <li><a href="/">首页</a></li>
          <li><a href="/blog">归档</a></li>
          <li><a href="/projects">项目</a></li>
          <li><a href="/blog/feed">订阅</a></li>
          <li><a href="http://www.douban.com/people/efence/">豆瓣</a></li>
          <li><a href="https://github.com/likang">GITHUB</a></li>
        </ul>
        <h1><a href="/">东篱</a></h1>
      </div>
      <div id="pagestripe">
        <div id="pageblock"></div>
      </div>

      <div id="content" class="single">        
  
<div class="post">
  <h2>
    <a href="/blog/2012/06/11/morse-im" rel="bookmark" title="Permanent Link to Morse IM">Morse IM</a> 
  </h2>
  <h4 style="margin-top: 0px;">
    2012/06/11 · 


<a href='/blog/category/tech'>tech</a>

  </h4>

    
  <p>数月前无意看到<a href="http://getshacked.com/work/teletweet/">TeleTweet</a>这个APP，这是一个Twitter客户端，富有创意的是它允许使用者以发电报的方式来发推。TeleTweet提供了一个精致的模拟电报机，你只需按照摩尔斯电码轻敲屏幕上的模拟电键，一个个英文字码便蹦出来，绝妙。</p>
<p>联想到Charles Petzold在《编码的奥秘》一书中所描述的两个小朋友通过手电筒交流的场景，我萌生了这样一个APP的想法：通过智能手机上的闪光灯实现“光通信”聊天 :P</p>
<p>使用方式很简单，A首先输入一段英文，点击发送，然后将手机的闪光灯一册面向B，程序将文字转换为摩尔斯码，并控制闪光灯的闪烁。而B只需将自己的摄像头对着A，则程序自动将闪烁的光点翻译为文字展示出来。如此反复，便可实现基本的IM功能。</p>
<p>程序的关键技术也应该不复杂，把文字编码为有规律的闪烁这个比较简单，而将闪烁还原成文字则需要一些专业知识。以我有限的图像处理知识来看，只需定时抓取摄像头的图像，灰度化之后寻找区域亮度的峰值，然后将连续的数据模拟化处理，便可大致还原成摩尔斯码的“嘀”和“嗒”，也就解码了文字。</p>
<p>当然这样的APP是没有什么实用价值的，但却非常有意思。我目前没有更多的时间做个Demo出来，图像处理的知识也很有限，如果有人有兴趣做一个出来，我当第一个用户:D</p>


    <div class="separator"></div>
</div>



  
<div class="post">
  <h2>
    <a href="/blog/2012/05/19/reflekt" rel="bookmark" title="Permanent Link to Reflekt">Reflekt</a> 
  </h2>
  <h4 style="margin-top: 0px;">
    2012/05/19 · 


<a href='/blog/category/python'>python</a> · <a href='/blog/category/project'>project</a>

  </h4>

    
  <p>公司之前有做过类似Q卡的项目，现在不做了，于是闲置下来很多机器，就是一般挂在电梯里或者便利店里的那种。于是团队决定拉回来几个放在办公室玩玩。</p>
<p>机器有上下两个屏幕，下面的可触摸，系统是Ubuntu，我便想在这个上面可以玩点什么。想到之前在iOS上玩过一个叫<a href="http://itunes.apple.com/us/app/reflekt/id428836268?mt=8">Reflekt</a>的游戏，属于消除类，移动方块使得与镜面中的元素一致即可消除。而我们的机器有两个屏幕，正好可以当作镜面，于是我就想模拟一个出来放在上面玩玩。</p>
<p>写Linux上的游戏我自然想到<a href="http://www.pygame.org">Pygame</a>，一个Python的2D游戏库，使用起来颇为简单，而且游戏本身也不复杂，所以实现起来还算容易。</p>
<p>唯一复杂的部分在于，游戏窗口一般无法使用多线程来实现多窗口，只能通过多进程的方式，于是我需要开启两个相同的进程，一个作为主窗口，处理输入，并将相应的命令传递个另外一个窗口。而处理用户输入与发送命令之间需要异步操作，因此主进程中要开一个单独的线程来发送命令。将主进程接收的命令并传递到发送线程，采用Python内置的Queue队列实现，于是一个小小的程序，因为要多一点点多进程的交互，变得稍显复杂了起来。大致框架如下</p>
<pre><code> +----------------------------+         +-----------------------------+
 |        Main Process        |         |       Mirror Process        |
 +----------------------------+         +-----------------------------+
 |     +----------------+     |         |                             |
 |     |   User Input   |     |         |                             |
 |     +-------+--------+     |         |                             |
 |             |              |         |                             |
 |             | Queue        |         |                             |
 |             v              |         |                             |
 |     +----------------+     |         |     +-----------------+     |
 |     |                |     |         |     |                 |     |
 |     |                |     | socket  |     |                 |     |
 |     | Sender Thread  +-------------------&gt; | Receiver Thread |     |
 |     |                |     |         |     |                 |     |
 |     +----------------+     |         |     +-----------------+     |
 +----------------------------+         +-----------------------------+
</code></pre>
<p>目前还不完善，接下来要实现自动识别游戏结束，加入无尽模式。放在<a href="https://github.com/likang/reflekt">Github</a>上，有兴趣可以瞧一瞧。</p>


    <div class="separator"></div>
</div>



  
<div class="post">
  <h2>
    <a href="/blog/2012/05/15/battery-technology-revolution-required" rel="bookmark" title="Permanent Link to 电池技术需要一场革命">电池技术需要一场革命</a> 
  </h2>
  <h4 style="margin-top: 0px;">
    2012/05/15 · 


<a href='/blog/category/tech'>tech</a>

  </h4>

    
  <p>上个礼拜,同事拿回来一台 The new iPad, 新搭载的Retina屏幕着实惊艳，翻阅书籍、杂志的感觉舒服的不得了，可美中不足的是，甚至可以说深深遗憾的是：仍然太重了。</p>
<p>原因很简单：电池由上一版本的25Whr上升到了42.5Whr，容量足足提升了70%。实际上屏幕、处理器、主板等部件的重量和体积已经到达了合理的水平，而从iPad背部拆解图来看，3大块电池霸道的占据了绝大部分空间，有点惨不忍睹。</p>
<p>大部分情况下iPad是最好的平板，这一点毫无疑问，但从一代以来就有的一个问题是，因为太重，不适合长时间手握，所以也就无法像Kindle那样随身携带，人们更多的是把iPad放在支架上，或者用身体的某个部位支撑着，才能长时间的使用，否则一定是累得手酸臂痛。</p>
<p>问题不是现在才有，随着移动计算设备的流行，它们承载了过多的功能，用户对更强处理器、更清晰屏幕的需求导致设备耗电速度急速上升。早期手机的电量一般可用3-5天，现在最流行的iPhone/Android手机一般只能使用1天，尤其是出货量最大的Android，如果您再玩点游戏，可能连一天也支撑不了，这还是在电池容量翻一翻甚至翻两翻的情况下。</p>
<p>试想如果电池可以做到轻薄容量大，会发生什么事呢？iPad只有目前的一半厚度，且重量跟一个大号手机差不多，我想这下没人不愿意在自己的包里腾出点空间给iPad了吧；手机充电一次可以使用起码一个月，背包客就不用发愁手机充电的事了。</p>
<p>再想点别的，床头的台灯从此抛弃电线，随便把它拿到哪儿；甚至汽车也充电就跑，不用加油站了⋯⋯</p>
<p>如此种种必将对现有的工业产品产生极大的影响，甚至可能催生出划时代的电子产品，称之为一场革命也并不为过。</p>


    <div class="separator"></div>
</div>



  
<div class="post">
  <h2>
    <a href="/blog/2012/04/15/buying-flower" rel="bookmark" title="Permanent Link to 买花记">买花记</a> 
  </h2>
  <h4 style="margin-top: 0px;">
    2012/04/15 · 


<a href='/blog/category/life'>life</a>

  </h4>

    
  <p>我在肇家浜路上径直的走着，目的地是一个盆栽花店，却不知道应该在哪个路口左拐。</p>
<p>两个星期前，我跟朋友一起去过这家店，当时他们要帮另一个朋友买盆花，说一定要来这里买。到了之后，我立即觉得这确实是一个好地方。</p>
<p>想给朋友打电话问是在哪条路，结果是关机，我便继续往前走，凭感觉在陕西南路拐了进去。</p>
<p>这条路有市中心街区特有的生气勃勃，不宽的马路两旁散着有些年头的大树，贴着行人道的，时而是一家特色衣店，时而是一条老弄堂，冷不丁的，一扇黑色的大门突然向内打开，一辆车子缓缓挤出来。打扮入时的上海老太迈着铿锵的步子，拎着大大小小的袋子挤上公交车；衣装笔挺的中年大叔，行色匆匆的迎面冲来；自信时尚的情侣则面无表情，仿佛模特走在T台上；三三两两的老外，有的驻足在画廊前盯着橱窗里的展品，有的听着音乐绕街慢跑。</p>
<p>前面出现一抹绿，应该是到了，看来没有走错路。店门口摆着几盆不同的花，左右两边挂着吊兰，远远望去，像是一道拱门。门很窄，里面是露天的，围墙围出一块十来平米的地方，应该是由房子的后院改造而来。地上湿漉漉的，摆满了大大小小的盆栽，有的放在架子上，有的放在生锈了的旧式铁架椅子上，更多的是直接摆在地上，留出一个勉强能站开两个人宽的小道。空气中弥漫着各种花香混合的味道，淡淡的，混合着泥土的湿气，很提神。</p>
<p>我进去时老板正在整理地上的一盆花，我冲老板微笑，点头致意，老板笑着停顿了一下，说：“你是昨天那个吗？”我说：“不是，不过之前跟朋友来过一次。”我还没想好要买什么，便挤到里面，一个个的看过来。</p>
<p>老板是个中年大叔，瘦瘦的，说话声音不高，语速比较快，不太笑，但笑起来很真实，奇怪的是我觉得他跟王小波长得有点像。就像朋友所说，看的出来他是爱花的人，这么多花他都养的很好，而且对每种花都很了解。上次我来的时候他手里拿着烟，烟味把所有花香都掩盖了，而我却一反常态的没有任何厌恶的感觉。</p>
<p>“我从来没养过花，第一次养，很怕给养死了。”我跟老板说。</p>
<p>“你试下这个，这个很好养的……”他给我指了指拐角处的一个迷你的小盆栽。</p>
<p>“我想养在阳台上，这个小了点……这个不错，是什么花？”我指着一排三盆开的花小巧玲珑的。</p>
<p>“这是四季海棠，一年四季都开花的。”</p>
<p>“哦。”我把目光继续向前移。</p>
<p>“这个长寿花也很不错。”老板推荐道。</p>
<p>我扫了一眼前面的花，回头说：“我选好了，就要这个，四季海棠，一眼就看中它了。”</p>
<p>“选好了哦？”老板把花拿起来，放在手上端详了一会儿，“漂亮，这个真漂亮。”仿佛很不舍得。</p>
<p>我让老板帮我把花装起来，顺便问道：“你还记得之前有个人给了钱之后又要回了五块钱吗？说自己经常来买花，是附近复旦读书的学生。我上次跟他们一起来的。”</p>
<p>老板似乎想起来了，微笑道：“他是复旦的么？”</p>
<p>“当然是，我们又不会说谎的。”</p>
<p>“我送你一个垫子吧，放在花盆下面，可以接着点水。”他转身拿了一块垫子放在袋子底，问我有没有毕业，我说我已经毕业快三年了，他说看不出来，说我看起来像九零后，我笑着说哪里有。我怕万一遇到什么问题，可以咨询下他，便问他要了手机号，他笑我拿出的手机用的破成那样，也不换新的。我说很多年了，用习惯了。</p>
<p>道谢之后，我从花店出来，拎着这么个小东西，心里想这下家里终于有个念想。</p>


    <div class="separator"></div>
</div>



  
<div class="post">
  <h2>
    <a href="/blog/2012/04/14/puff-girl" rel="bookmark" title="Permanent Link to 泡芙女孩">泡芙女孩</a> 
  </h2>
  <h4 style="margin-top: 0px;">
    2012/04/14 · 


<a href='/blog/category/life'>life</a> · <a href='/blog/category/fairy-tale'>fairy tale</a>

  </h4>

    
  <p>我听说从前有个男孩，很喜欢吃泡芙，有一次调皮，在睡前小心翼翼的只把泡芙里的奶油吃掉，留下一个壳子，第二天竟然发现泡芙里有一个小女孩，便问她叫什么名字，女孩说不能说出自己的名字，一旦说出就会变回原型，不能待在这里了。男孩问会变成什么，女孩答这也不能说。</p>
<p>就这样男孩有了玩伴，他让妈妈把每件上衣都缝一个口袋在前面，这样把女孩放在里面，可以一起吹风。男孩带着女孩跑遍了城市的每个角落，每到一个地方，他们总是开心的说笑，所有人都觉得男孩奇怪，因为他们只看到他一个人。</p>
<p>小男孩慢慢长大了，一天早上忽然发现女孩不见了，他非常着急，翻箱倒柜，中间差点把泡芙小屋打破，可最终还是没有找到，他很伤心，呆坐床边，捧着空空的泡芙小屋。</p>
<p>这时门铃响了，男孩开门发现一个跟他差不多年纪的女孩站在外面，微笑着看着他。这感觉似曾相识，然后他猛然明白过来，一把把女孩抱进来，知道他找到了他的泡芙女孩。</p>


    <div class="separator"></div>
</div>



<div id="pagination">
 <p class="alignright">
   <a href="../2">新篇 »</a>
 </p>
 <p class="alignleft">
   <a href="../4">« 旧文</a>
 </p>
</div>
<div class="break"></div>
      </div><!-- End Main Block -->
      <div id="footer" class="single">        
        <p id="credits">Likang.me uses <a href="http://www.ulfpettersson.se/design/modern/">Modern</a> and powered by <a href="http://www.blogofile.com">Blogofile</a>. 
        <br/></p>

      </div> <!-- End Footer -->
    </div> <!-- End Content -->

    <script type="text/javascript" src="/javascripts/prettify.js"></script>
    <script type="text/javascript">
        window.onload = function(){
            if (!document.getElementsByTagName) return;
            var codes = document.getElementsByTagName("code");
            for (var i=0; i < codes.length; i++) {
                codes[i].className = "prettyprint";
            }
            prettyPrint();
        }
    </script>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32376704-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </body>
</html>



